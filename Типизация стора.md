# Типизация стора и хуков

Типизация не зависит от того используете ли вы классический редакс или тулкит для реализации стора.

Если вы пишите асинхронные экшены классическим способом, то достаточно указать тип возвращаемого значения и тип параметров:

```TypeScript
const getOrder = (number: number): AppThunk => {
  return (dispatch) => {

  };
};
```

Необходимые импорты:

```TypeScript
import { configureStore, ThunkAction } from "@reduxjs/toolkit";
import { combineReducers } from "redux";
import {
  TypedUseSelectorHook,
  useDispatch as dispatchHook,
  useSelector as selectorHook,
} from "react-redux";

import type {} from "redux-thunk/extend-redux";
```

1. Описываем корневой редьюсер

```TypeScript
const reducer = combineReducer({....});
```

2. Выводим тип стора

```TypeScript
export type RootState = ReturnType<typeof reducer>;
```

3. Описываем в качестве объединения типы всех экшенов в приложении

```TypeScript
export type AppActions =
  | TBurgerConstructorActions
  | TUserActions
  | ...;
```

4. Описываем тип для асинхронных экшенов (thunk)

```TypeScript
export type AppThunk<ReturnType = void> = ThunkAction<
  ReturnType
  RootState,
  unknown,
  AppActions
>;
```

5. Описываем тип диспатча

```TypeScript
type AppDispatch<TReturnType = void> = (
  action: AppActions | AppThunk<TReturnType>
) => TReturnType;
```

6. Типизируем хуки

```TypeScript
export const useDispatch: () => AppDispatch = dispatchHook;
export const useSelector: TypedUseSelectorHook<RootState> = selectorHook;
```
